function BestClock(t,i){for(var s in this.settings={colorRect:"#dddee2",colorFigureSix:"black",colorNumber:"#dc0406",colorHourHand:"black",colorMinuteHand:"black",colorSecondHand:"#dc0406",colorText:"#003061",text:"",width:700,height:700},i)this.settings[s]=i[s];var e=document.getElementById(t),h=document.createElement("canvas"),c=document.createElement("canvas");if(this.ctx=c.getContext("2d"),this.ctxBg=h.getContext("2d"),!e)throw"#"+t+" not found";c.style.cssText=h.style.cssText="display: block;position: absolute;left: 0;top: 0;right: 0;bottom: 0;margin:auto",e.appendChild(h),e.appendChild(c),this.init(),this.start()}BestClock.prototype={init:function(){this.size=this.settings.height<this.settings.width?this.settings.height:this.settings.width,this.ctxBg.canvas.width=this.ctx.canvas.width=this.settings.width,this.ctxBg.canvas.height=this.ctx.canvas.height=this.settings.height,this.ctxBg.textAlign="center",this.ctxBg.textBaseline="middle",this.ctxBg.lineJoin=this.ctxBg.lineCap="round",this.ctx.translate(this.settings.width>>1,this.settings.height>>1),this.ctxBg.translate(this.settings.width>>1,this.settings.height>>1);var t=this.size/800;this.ctx.scale(t,t),this.ctxBg.scale(t,t),this.ctx.shadowColor="rgba(0,0,0,0.8)",this.ctx.shadowBlur=this.size/100,this.ctx.shadowOffsetX=-this.size/200,this.ctx.shadowOffsetY=this.size/200,this.ctx.strokeStyle="rgba(255,255,255,0.6)",this.drawFace(),this.drawText(),this.drawNumber(),this.ctx.translate(0,86)},start(){requestAnimationFrame(this.drawClock.bind(this))},drawClock:function(){this.ctx.clearRect(-400,-486,800,800);var t=new Date,i=t.getHours(),s=t.getMinutes(),e=t.getSeconds(),h=t.getMilliseconds(),c=30*(i+s/60),o=6*(s+e/60+h/6e4),n=6*(e+h/1e3);this.drawHand(o,170,this.settings.colorHourHand),this.drawHand(c,130,this.settings.colorMinuteHand),this.drawHand(n,190,this.settings.colorSecondHand),requestAnimationFrame(this.drawClock.bind(this))},drawFace:function(){this.drawSix(!0),this.ctxBg.save(),this.ctxBg.shadowColor="rgba(0,0,0,0.6)",this.ctxBg.shadowBlur=this.size/80,this.ctxBg.shadowOffsetX=.005*-this.size,this.ctxBg.shadowOffsetY=this.size/80,this.ctxBg.fillStyle=this.settings.colorRect,this.ctxBg.fillRect(-113,-334,227,677),this.ctxBg.restore(),this.drawSix()},drawSix:function(t){this.ctxBg.save(),t&&(this.ctxBg.shadowColor="rgba(0,0,0,0.7)",this.ctxBg.shadowBlur=this.size/100,this.ctxBg.shadowOffsetX=.0075*-this.size,this.ctxBg.shadowOffsetY=this.size/80),this.ctxBg.beginPath(),this.ctxBg.fillStyle=this.settings.colorFigureSix,this.ctxBg.strokeStyle="black",this.ctxBg.moveTo(229,-327),this.ctxBg.bezierCurveTo(-389,-210,-459,512,114,254),this.ctxBg.lineTo(114,232),this.ctxBg.bezierCurveTo(330,104,305,-98,114,-90),this.ctxBg.lineTo(114,13),this.ctxBg.bezierCurveTo(214,16,226,128,114,187),this.ctxBg.lineTo(114,200),this.ctxBg.bezierCurveTo(-298,387,-341,-39,237,-198),this.ctxBg.fill(),this.ctxBg.restore()},drawText:function(){this.ctxBg.beginPath(),this.ctxBg.fillStyle=this.settings.colorText,this.ctxBg.font="700 20px serif",this.settings.text?this.ctxBg.fillText(this.settings.text,0,-16):(this.ctxBg.fillText("RAND",-20,-16,110),this.ctxBg.fillText("M",36,-16),this.ctxBg.fillRect(9,-8,18,7),this.ctxBg.beginPath(),this.ctxBg.fillStyle=this.settings.colorRect,this.ctxBg.arc(18,-14,10,0,2*Math.PI),this.ctxBg.fill(),this.ctxBg.beginPath(),this.ctxBg.strokeStyle=this.settings.colorText,this.ctxBg.lineWidth=1,this.ctxBg.arc(18,-16,8,245*Math.PI/180,170*Math.PI/180),this.ctxBg.stroke(),this.ctxBg.beginPath(),this.ctxBg.moveTo(18,-16),this.ctxBg.lineTo(18,-25),this.ctxBg.moveTo(18,-16),this.ctxBg.lineTo(11,-10),this.ctxBg.stroke())},drawNumber:function(){var t=[64,64,37,42,48,53,58,64,58,61,77,85],i=[216,218,184,176,184,224,254,229,208,212,260,392];this.ctxBg.beginPath(),this.ctxBg.fillStyle=this.settings.colorNumber;for(var s,e,h,c=0;c<12;c++)h=(30*c-30)*Math.PI/180,s=Math.cos(h)*i[c],e=Math.sin(h)*i[c],this.ctxBg.font="700 "+t[c]+"px serif",this.ctxBg.fillText((c+1)%12+1,s,e+86)},drawHand:function(t,i,s){this.ctx.fillStyle=s,this.ctx.rotate(Math.PI*t/180),this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(-7,-10),this.ctx.lineTo(0,-i),this.ctx.lineTo(7,-10),this.ctx.lineTo(0,0),this.ctx.stroke(),this.ctx.fill(),this.ctx.rotate(-Math.PI*t/180)},setSize:function(t,i){t<=0||i<=0||(this.settings.width=t,this.settings.height=i,this.init())}};